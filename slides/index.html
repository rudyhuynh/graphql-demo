<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>GraphQL &amp; RelayJS</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/beige.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
    <style>
        img {
            border: none!important;
            box-shadow: none!important
        }
    </style>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
              <h2>GraphQL <span style="font-size: 0.7em">&amp;</span> RelayJS</h3>
            </section>
            <section>
              <section>
                <h4>Currently</h4>
                <img src="/img/appfeature0.png"/>
              </section>
              <section>
                <img src="/img/appfeature1.png"/>
              </section>
            </section>
            <section>
              <section>A shopping cart with GraphQL and RelayJS</section>
              <section>
                <div style="height: 500px">
                  <img src="/img/cart-step1.png"/>
                </div>
                
              </section>
              <section>
                <div style="height: 500px">
                  <img src="/img/cart-step2.png"/>
                </div>
              </section>
              <section>
                <div style="height: 500px">
                  <img src="/img/cart-step3.png"/>
                </div>
              </section>
              <section>
                The data of 3 steps are saved on server.
              </section>
            </section>
            <section>
              <img src="/img/wheregraphql.png"/>
            </section>
            <section>
              <section>
                <img src="/img/client-server-dependence.png"/>
              </section>
              <section>
                <div>Higher Cohesion</div>
                <ul>
                  <li>Information of client-server dependence are compact into one single schema file.</li>
                  <li>Decisions of data querying are to shift to client.</li>
                </ul>
              </section>
            </section>
            <section>
              <section>RESTFul/Ad-hoc vs GraphQL</section>
              <section>
                <table>
                  <thead>
                    <tr>
                      <th></th>
                      <th>
                        RESTFul/Ad-hoc
                      </th>
                      <th>
                        GraphQL
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th>URL</th>
                      <td>
                        GET /products<br/>
                        POST /products/:id<br/>
                        GET /users<br/>
                        POST /users<br/>
                        ...
                      </td>
                      <td>
                        POST /graphql
                      </td>
                    </tr>
                  </tbody>
                </table>
              </section>
              <section>
                  <table>
                    <thead>
                      <tr>
                        <th></th>
                        <th>
                          RESTFul/Ad-hoc
                        </th>
                        <th>
                          GraphQL
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th>Get data</th>
                        <td>
                          GET /products<br/>
                          GET /products/:id<br/>
                          GET /products/forSomePage
                        </td>
                        <td>
                          <pre><code>
query {
  product{
    id 
    name
    price
    relateItems{
      id
      name
      price
    }
  }
}
                          </code></pre>
                          
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </section>
                <section>
                    <table>
                      <thead>
                        <tr>
                          <th></th>
                          <th>
                            RESTFul/ Ad-hoc
                          </th>
                          <th>
                            GraphQL
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <th>To mutate data</th>
                          <td>
                            POST /products/:id<br/>
                            DELETE /products/:id<br/>
                          </td>
                          <td>
                            <pre><code>
mutation updateProduct($input: Product!){
  product(input: $input){
    id
    name
  }
}
                            </code></pre>
                            
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </section>
                  <section>
                      <table>
                        <thead>
                          <tr>
                            <th></th>
                            <th>
                              RESTFul/<br/>Ad-hoc
                            </th>
                            <th>
                              GraphQL
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th>To subscribe to server</th>
                            <td>
                                &#10060;
                            </td>
                            <td>
                                &#10004;
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </section>
            </section>
            <section>
              <section>
                <h3>RelayJS</h3>
                <img src="img/relay.png"/>
              </section>
              <section>
                <ul>
                  <ul>Connect React Component with GraphQL in declarative way</ul>
                  <ul>Caching via Relay's local store</ul>
                  <ul>Paging</ul>
                  <ul>Subscription</ul>
                </ul>
              </section>
            </section>
            <section>
              <div>Store data in React/Redux/Relay?</div>
              <ul>
                <li>If data are used in one component, use React's state</li>
                <li>If data are used in many components, use Redux </li>
                <li>If data are used in many clients, use Relay</li>
              </ul>
            </section>
            <section>
              
            </section>
            

        </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
        // More info https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            history: true,
            math: {
                mathjax: 'MathJax-2.7.0/MathJax.js',
                config: 'TeX-AMS_HTML-full'  // See http://docs.mathjax.org/en/latest/config-files.html
                // find symbol here: http://detexify.kirelabs.org/classify.html
            },
            // More info https://github.com/hakimel/reveal.js#dependencies
            dependencies: [
                { src: 'plugin/markdown/marked.js' },
                { src: 'plugin/markdown/markdown.js' },
                { src: 'plugin/notes/notes.js', async: true },
                { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
                { src: 'plugin/math/math.js', async: true }
            ]
        });
    </script>
</body>

</html>